(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{L9NX:function(R,c,e){"use strict";e.r(c);var E=e("7Tti"),O=e("3bXm"),P=e("vtwr"),h=e("zh7a"),M=e("zp2r"),D=e("S0PR"),m=e.n(D),y=e("T9Mk"),v=e.n(y),W=e("Wbwa"),p=e("q5+0"),U=e("9kvl"),b=e("XuRK"),C=e.n(b),l=e("ikfJ"),j=e.n(l),f=function(a){Object(h.a)(n,a);var i=Object(M.a)(n);function n(){var o;Object(O.a)(this,n);for(var s=arguments.length,r=new Array(s),_=0;_<s;_++)r[_]=arguments[_];return o=i.call.apply(i,[this].concat(r)),o.state={isReady:!1},o}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var o=Object(E.a)(m.a.mark(function r(){var _,u;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState({isReady:!0}),_=this.props.dispatch,!(window.location.href.indexOf("?code=")>-1)){t.next=8;break}return u=window.location.href.split("?code=")[1],t.next=6,_({type:"user/getGithubToken",payload:{code:u}});case 6:t.next=9;break;case 8:_&&_({type:"user/fetchCurrent"});case 9:case"end":return t.stop()}},r,this)}));function s(){return o.apply(this,arguments)}return s}()},{key:"render",value:function(){var s=this.state.isReady,r=this.props,_=r.children,u=r.loading,d=r.currentUser,t=d&&d.id,g=Object(b.stringify)({redirect:window.location.href});return!t&&u||!s?Object(l.jsx)(W.a,{}):!t&&window.location.pathname!=="/user/login"?Object(l.jsx)(p.a,{to:"/user/login?".concat(g)}):_}}]),n}(v.a.Component);c.default=Object(U.c)(function(a){var i=a.user,n=a.loading;return{currentUser:i.currentUser,loading:n.models.user}})(f)}}]);
